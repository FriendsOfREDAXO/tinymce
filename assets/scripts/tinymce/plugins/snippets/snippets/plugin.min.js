(()=>{var o=(n,r)=>{n.ui.registry.addMenuButton("snippets",{text:"Snippets",fetch:t=>{fetch("index.php?rex-api-call=tinymce_get_snippets").then(e=>e.json()).then(e=>{if(e.length===0){t([{type:"menuitem",text:"Keine Snippets vorhanden",enabled:!1,onAction:()=>{}}]);return}let s=e.map(i=>({type:"menuitem",text:i.title,onAction:()=>{n.insertContent(i.content)}}));t(s)}).catch(e=>{console.error("Error fetching snippets:",e),t([{type:"menuitem",text:"Fehler beim Laden",enabled:!1,onAction:()=>{}}])})}})};tinymce.PluginManager.add("snippets",o);})();
