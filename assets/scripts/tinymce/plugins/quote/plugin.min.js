(()=>{var r=(u,c)=>{u.ui.registry.addButton("quote",{icon:"quote",onAction:()=>i()});let a=(t,e)=>{t.focus(),t.undoManager.transact(()=>{t.insertContent(e)}),t.selection.setCursorLocation(),t.nodeChanged()},i=()=>{u.windowManager.open({title:"Quote",size:"normal",body:{type:"panel",items:[{type:"textarea",label:"Quote text",name:"quoteText"},{type:"input",label:"Quote author",name:"quoteAuthor"},{type:"input",label:"Quote cite",name:"quoteCite"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{quoteText:u.selection.getContent(),quoteAuthor:"",quoteCite:""},onSubmit:t=>{let e=t.getData();if(e.quoteText.trim()==="")return;let o="";e.quoteCite.trim()!==""&&(o="<cite>"+e.quoteCite+"</cite>");let n="";e.quoteAuthor.trim()!==""&&(n=e.quoteAuthor,o!==""&&(n+=", "+o,o=""),n="<footer>"+n+"</footer>"),a(u,"<blockquote><div>"+e.quoteText+"</div>"+n+o+"</blockquote>"),t.close()}})}},l=()=>{tinymce.PluginManager.add("quote",r),tinymce.PluginManager.requireLangPack("quote","de")};})();
